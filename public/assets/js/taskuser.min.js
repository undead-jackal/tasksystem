$(document).ready(function(){taskTable();$(".summernote").summernote({tabsize:2,height:300,toolbar:[["font",["bold","underline","clear"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["view",["fullscreen"]]]});$("#viewTask form").submitform({url:"/saveTask",callback:function(a){if(a.insert){$("#viewTask").modal("hide");showNotification("top","right","Added Successfully","success");taskTable()}else{alert("error 505")}}});$(document).on("click",".view-btn",function(){var a=$(this).data("id");$.simpletSubmit({url:"/getTaskUser",data:{id:a},callback:function(c){console.log(c.result.name);$("#viewTask input[name='id']").val(a);$("#viewTask .project").html(c.result.name);$("#viewTask .name").html(c.result.t_name);$("#viewTask .deadline").html(c.result.deadline);$('#viewTask select[name="status"] > option').each(function(){if($(this).val()==c.result.status){$(this).attr("selected","selected")}});$("#viewTask textarea[name='content']").summernote("code",c.result.content);$("#viewTask .assign_by").html(c.result.first_name+" "+c.result.last_name);var b="";if(c.result.status==0){b='<div class="alert alert-warning"><span>PENDING</span></div>'}else{if(c.result.status==1){b='<div class="alert alert-primary"><span>INPROGRESS</span></div>'}else{if(c.result.status==2){b='<div class="alert alert-info"><span>FOR QA</span></div>'}else{if(c.result.status==3){b='<div class="alert alert-success"><span>COMPLETED</span></div>'}else{if(c.result.status==4){b='<div class="alert alert-error"><span>UNFINISHED</span></div>'}}}}}$("#viewTask .instruction").html(c.result.instruction);$("#viewTask .modal-title").html(b)}})})});function taskTable(){$("#taskTable").table({url:"/viewTaskUser",data:{per_page:5,},render:[function(a){return a.id},function(a){return a.t_name},function(a){return a.name},function(a){return a.first_name+" "+a.last_name},function(a){return a.fname+" "+a.lname},function(b){var a=(b.status!=0)?"Completed":"Pending";return a},function(a){return a.deadline},function(a){return'<button data-id="'+a.id+'"  data-toggle="modal" data-target="#viewTask" class="btn view-btn btn-sm mr-2"><i class="fa fa-eye"></i></button>'},]})};